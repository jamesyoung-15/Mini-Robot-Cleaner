<!DOCTYPE html> <body> <header> <h1>Mini Robot Cleaner</h1> </header> <main> <div class="container-area"> <div class="joystick-container" id="joystick-area"> <div class="joystick" id="nipple"></div> </div> </div> </main> </body> <style> *{ font-family: monospace; font-size: 18px; } body { overflow: hidden; background-color: #0a0a23;; margin: 0; color: #f8f8f2; } header { text-align: center; background-color: #0a0a23; text-align: center; } main { background-color: #1b1b32; height: 100vh; } .container-area{ width: 70%; margin: 0 auto; display: flex; justify-content: space-between; flex-direction: row; flex-wrap: wrap; } .joystick-container{ position: relative; width: 640px; height: 480px; display: flex; flex-direction: column-reverse; margin: auto; } </style> <script src="https://yoannmoinet.github.io/nipplejs/javascripts/nipplejs.js"></script> <script> var ip_address = "10.15.15.63:4545"; function move(angle,speed) { if(speed>0.45) { if(angle<=35 || angle>335) { send("right"); } else if(angle>35 && angle<60) { send("upper right"); } else if(angle>=60 && angle<=125) { send("up"); } else if(angle>125 && angle<145) { send("upper left"); } else if(angle>=145 && angle<=210) { send("left");; } else if(angle>210 && angle<235) { send("lower left"); } else if(angle>235 && angle<305) { send("down"); } else if(angle>305 && angle<335) { send("lower right"); } } } function send(dir) { var xhr = new XMLHttpRequest(); xhr.open("GET", "http://"+ip_address+"/" + dir, true); xhr.send(); } var options = { zone: document.getElementById('nipple'), mode: 'static', size: 100, position: {left:"50%", top:"50%"}, color: 'white', threshold: 1 }; manager = nipplejs.create(options); speed = 0; angle = 0; self.manager.on('start', function (event, nipple) { timer = setInterval(function() {move(angle,speed)},800); }); self.manager.on('move', function (event, nipple) { speed = nipple.force; angle = nipple.angle.degree; }); self.manager.on('end', function () { if (timer) { clearInterval(timer); } }); </script> </html>