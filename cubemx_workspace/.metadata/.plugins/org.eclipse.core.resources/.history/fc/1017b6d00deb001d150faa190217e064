#include "lm35.h"

// Get data from LM35
float getTemperatureData()
{
	uint32_t adcvalue;
	float temp = 0;
	HAL_ADC_Start(&hadc1);
	if (HAL_ADC_PollForConversion(&hadc1,5) == HAL_OK)
	{
	  adcvalue = HAL_ADC_GetValue(&hadc1);
	  temp = (adcvalue*330.0)/4095.0;
	}
	return temp;
}
